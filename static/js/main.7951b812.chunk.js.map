{"version":3,"sources":["components/app/randomStringID.js","components/app-header/index.js","components/app-header/app-header.js","components/search-panel/search-panel.js","components/post-status-filter/index.js","components/post-status-filter/post-status-filter.js","components/post-list-item/index.js","components/post-list-item/post-list-item.js","components/post-list/index.js","components/post-list/post-list.js","components/post-add-form/index.js","components/post-add-form/post-add-form.js","components/app/index.js","components/app/app.js","index.js"],"names":["randomString","len","str","i","r","Math","random","String","fromCharCode","AppHeader","liked","allPosts","n","countTitle","className","SearchPanel","props","state","term","onUpdateSearch","bind","e","target","value","this","setState","type","placeholder","onChange","Component","PostStatusFilter","btns","name","label","buttons","map","filter","onFilterSelect","clazz","key","onClick","PostListItem","onDelete","onToggleLiked","onToggleImportant","classNames","important","like","PostList","posts","elements","elem","hasOwnProperty","item","id","itemProps","PostAddForm","text","onValChange","onSubmit","preventDefault","onAdd","App","data","deleteItem","addItem","index","findIndex","oldArray","slice","newArray","body","newItem","oldVal","newVal","items","length","indexOf","visiblePosts","filterPost","postSearch","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7951b812.chunk.js","sourcesContent":["//Info:  http://stackoverflow.com/a/27872144/383904\n//changes made\nfunction randomString(len){\n    var str=\"\", i=0, min=10, max=62;\n    for(;i++<len;){\n      var r = Math.random()*(max-min)+min <<0;\n      str += String.fromCharCode(r+=r>9?r<36?55:61:48);\n    }\n    return str;\n  }\nexport default randomString;","import AppHeader from './app-header'\nexport default AppHeader;","import React from 'react';\nimport './app-header.css';\n\nconst AppHeader = ({liked, allPosts}) => {\n\n  function declOfNum(n, titles) {\n\t\treturn n + ' ' + titles[n % 10 === 1 && n % 100 !== 11 ?\n\t\t\t0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2];\n\t}\n  const arr = ['запись', 'записи', 'записей'];\n  let countTitle = declOfNum(allPosts, arr);\n  return (\n    <div className=\"app-header d-flex\">\n        <h1>Username</h1>\n        <h2>{countTitle}, из них понравилось {liked}</h2>\n    </div>\n  )\n}\n\nexport default AppHeader; ","import React, {Component} from 'react';\nimport './search-panel.css';\n\nexport default class SearchPanel extends Component {\n    constructor(props) {\n      super(props);\n      this.state = {\n        term: ''\n      }\n      this.onUpdateSearch = this.onUpdateSearch.bind(this);\n    }\n    onUpdateSearch(e) {\n      const term = e.target.value;\n      this.setState({term});\n      this.props.onUpdateSearch(term); //внешняя ф-я\n    }\n    render() {\n      return (\n        <input\n          className = \" form-control search-input\"\n          type = \"text\"\n          placeholder = \"Поиск по записям\"\n          onChange = {this.onUpdateSearch}\n        />\n      )\n    }\n}\n\n","import PostStatusFilter from './post-status-filter'\nexport default PostStatusFilter;","import React, {Component} from 'react';\nimport './post-status-filter.css';\n\n\nexport default class PostStatusFilter extends Component {\n\n    constructor(props) {\n      super(props);\n      this.btns = [\n        {name: 'all', label: 'Все'},\n        {name: 'like', label: 'Понравилось'}\n      ]\n    }\n    \n    render() {\n      const buttons = this.btns.map(({name, label}) => {\n        const {filter, onFilterSelect} = this.props;\n        const active = filter === name;\n        const clazz = active ? 'btn-info' : 'btn-outline-dark';\n        return (\n          <button key={name} type='button' className={`btn ${clazz}`}\n          onClick={()=> onFilterSelect(name)} \n          >{label}</button>\n        )\n      });\n      return (\n        <div className=\"btn-group\">\n          {buttons}\n        </div>\n      )\n    }\n}\n\n","import PostListItem from './post-list-item'\nexport default PostListItem;","import React, {Component} from 'react';\nimport './post-list-item.css';\n\nexport default class PostListItem extends Component {\n\n  render() {\n      const {label, onDelete, onToggleLiked, onToggleImportant, important, like} = this.props;\n      let classNames = 'app-list-item d-flex justify-content-between';\n      if (important) {\n        classNames += ' important';\n      }\n      if (like) {\n        classNames += ' like';\n      }\n      return (\n            <div className={classNames}>\n                <span className=\"app-list-item-label\" onClick = {onToggleLiked}>\n                  {label}\n\n                </span>\n                <div className=\"d-flex justify-content-center align-items-center\">\n                  <button type=\"button\" className=\"btn-star btn-sm\" onClick={onToggleImportant}>\n                    <i className=\"fa fa-star\"></i>\n                  </button>\n                  <button type=\"button\" className=\"btn-trash btn-sm\" onClick={onDelete}>\n                    <i className=\"fa fa-trash-o\"></i>\n                  </button>\n                  <i className=\"fa fa-heart\"></i>\n                </div>\n\n            </div>\n      ) \n  }\n}\n\n","import PostList from './post-list';\nexport default PostList;","import React from 'react';\nimport PostListItem from '../post-list-item';\nimport './post-list.css';\n\nconst PostList = ({posts, onDelete, onToggleLiked, onToggleImportant}) => {\n\n  const elements = posts\n  .filter(elem => typeof elem === 'object' && elem.hasOwnProperty('label') && elem.hasOwnProperty('important')\n  && elem.hasOwnProperty('id'))\n  .map( (item) => {\n        const {id, ...itemProps} = item\n        return (\n          <li key={id} className=\"list-group-item\">\n              <PostListItem {...itemProps} onDelete = {() => onDelete(id)}\n               onToggleImportant = {() => onToggleImportant(id)} onToggleLiked = { () => onToggleLiked(id)}/>\n          </li>\n        )\n  });\n \n  \n  return (\n    <ul className=\"app-list list-group\">\n        {elements}\n    </ul>\n  )\n}\n\nexport default PostList;","import PostAddForm from './post-add-form'\nexport default PostAddForm;\n","import React, { Component } from 'react';\nimport './post-add-form.css';\n\nexport default class PostAddForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      text: ''\n    }\n    this.onValChange = this.onValChange.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n\n  }\n\n  onValChange(e) {\n    this.setState({\n      text: e.target.value\n    })\n  } \n  onSubmit(e) {\n    e.preventDefault();\n    if (this.state.text) {\n      this.props.onAdd(this.state.text);\n      this.setState({\n        text: ''\n      })\n    }\n   \n  }\n  \n  render() {\n      return (\n          <form className=\"bottom-panel d-flex\"\n            onSubmit={this.onSubmit}>\n            <input\n            type = \"text\"\n            placeholder = \"Текст заметки...\"\n            className = \"form-control new-post-label\"\n            onChange = {this.onValChange}\n            value = {this.state.text}\n            ></input>\n\n            <button \n              type=\"submit\"\n              className=\"btn btn-outline-dark\"\n              >\n                Добавить</button>\n            \n          </form>\n      )\n    }\n}\n","import App from './app'\nexport default App;","import React, { Component } from 'react';\n\nimport randomString from './randomStringID.js'\nimport AppHeader from '../app-header';\nimport SearchPanel from '../search-panel/search-panel';\nimport PostStatusFilter from '../post-status-filter';\nimport PostList from '../post-list';\nimport PostAddForm from '../post-add-form';\nimport './app.css';\n\nexport default class App extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      data : [\n        { id: 'sdDGGGL', label: `Now I'm learning React!`, important: true, like: false },\n        { id : 'SLDGFG', label: `Awesome!!!!`, important: false, like: false},\n        { id: 'FGJHKJ', label: `Go go go!!!!`, important: false, like: false }\n      ],\n      term: '',\n      filter: 'all'\n    };\n    this.deleteItem = this.deleteItem.bind(this);\n    this.addItem = this.addItem.bind(this);\n    this.onToggleImportant = this.onToggleImportant.bind(this);\n    this.onToggleLiked = this.onToggleLiked.bind(this);\n    this.onUpdateSearch = this.onUpdateSearch.bind(this);\n    this.onFilterSelect = this.onFilterSelect.bind(this);\n  }\n\n  deleteItem(id) {\n    this.setState(({data}) => {\n      const index = data.findIndex(elem => elem.id === id);\n      const oldArray = data.slice(0, index);\n      const newArray = data.slice(index+1);\n      const newData = [...oldArray, ...newArray];\n      return {\n        data: newData\n      }\n    });\n  }\n\n  addItem(body) {\n    const newItem = {\n      id: randomString(5),\n      label: body,\n      important: false,\n      like: false\n    }\n    this.setState(({data}) => {\n      const newData= [...data, newItem];\n      return {\n        data: newData\n      }\n    });\n  }\n\n  onToggleImportant(id) {\n    this.setState(({data}) => {\n      const index = data.findIndex(elem => elem.id === id);\n      const oldVal = data[index];\n      const newVal = {...oldVal, important: !oldVal.important};\n      const newArr = [...data.slice(0, index), newVal, ...data.slice(index +1)]\n      return {\n        data: newArr\n      }\n    }); \n  }\n  onToggleLiked(id) {\n    this.setState(({data}) => {\n      const index = data.findIndex(elem => elem.id === id);\n      const oldVal = data[index];\n      const newVal = {...oldVal, like: !oldVal.like};\n      const newArr = [...data.slice(0, index), newVal, ...data.slice(index +1)]\n      return {\n        data: newArr\n      }\n    }); \n  }\n  \n  postSearch(items, term) {\n    if (term.length === 0 ) {\n      return items\n    }\n    return items.filter( (item) => {\n      return item.label.indexOf(term) > -1\n    });\n  }\n\n  filterPost(items, filter) {\n    if (filter === 'like') {\n      return items.filter(item => item.like )\n    } else {\n      return items\n    }\n  }\n  onFilterSelect(filter) {\n    this.setState({filter})\n  }\n\n  onUpdateSearch(term) {\n    this.setState({term})\n  }\n\n\n  render() {\n    const {data, term, filter} = this.state;\n    const liked = data.filter(item=>item.like).length;\n    const allPosts = data.length;\n\n    const visiblePosts = this.filterPost(this.postSearch(data, term), filter);\n\n    return (\n      <div className=\"app\">\n            <AppHeader liked = {liked} allPosts = {allPosts}/>\n            <div className=\"search-panel d-flex\"> \n              <SearchPanel onUpdateSearch = { this.onUpdateSearch }/>\n              <PostStatusFilter filter={filter} onFilterSelect={this.onFilterSelect}/>\n            </div>\n            <PostList posts = {visiblePosts} onDelete={ this.deleteItem }\n            onToggleImportant={ this.onToggleImportant } onToggleLiked = { this.onToggleLiked }/>\n            <PostAddForm onAdd={this.addItem}/>\n      </div>\n    )\n  }\n}\n\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/app/';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}